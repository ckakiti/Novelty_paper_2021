# Processing novelty data (Akiti et al. 2021)

Data used in Akiti et al. 2021 available upon request - akiti (at) g (dot) harvard (dot) edu. Data structure is explained [here](https://github.com/ckakiti/Novelty_paper_2021/blob/main/DataStructure.md). The following gives an overview of the code that produced each figure. Specifics for running each piece of code can be found in the comments within the code itself.

## Divided by code

### [analy_novelty2103.m](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/analy_novelty2103.m)
- creates bout_multi.mat (needed for plotting multi-day behavior imagesc)
- Input: akiti_miceID_210318.xlsx, DLC_label.mat
- Output: 
  - bout_multi.mat
  - imagesc behavior plots (Fig 1e-g, Fig 2d-e, Fig 3c/d, Fig 4d/e)
  - violin plots (Fig 2d-e)

### [novelty_comparison_multi_days.m](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/novelty_comparison_multi_days.m)
- description
- Input:
- Output: Fig 1d, Fig 3b, Fig 3c/d (frequency comparison), Fig 3e, Fig 3f, Fig 4c, Fig 4d/e (frequency comparison), Fig 4f

### [analy_novelty_multi_sessions_2012.m](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/analy_novelty_multi_sessions_2012.m)
- creates distToObj, nose-tail, and bout plots for multiple mice and sessions
- Input: Config_NovAna, MiceIndex.mat, DLC_label.mat (generated by video_novelty_multi_labels_2011.m)
- Output: 
  - bout_early_late.tif, distToObj_nose-tail.tif, distToObj.tif, nose-Tail.tif (Fig 2a)

### [Moseq_DLC_2107_2.m](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/Moseq_DLC_2107_2.m)
- description
- Input:
- Output:
  - fig 5c (colorplots)

### photometry_novelty_Korleki_2105.m
- required supplementary code:
  - analyze_noise_2105_novelty
  - photometry_sync_every10_2105
  - videosync_every10_2105
- Input: akiti_miceID_210318.xlsx, DLC_label.mat
- Output: ANIMAL_FPaligned_SESSION.tif

### [FPdat_import.m](https://github.com/ckakiti/Novelty_paper_2021/blob/master/FPdat_import.m)
- read and save raw photometry signal (generated by custom program)
- Input:
  - LED_on (from KW_1_LED.m)
  - FP analog data file (generated by custom program, either .dat or no extension)
- Output:
  - mouse_date_FP.mat (containing GCaMP, tdTom, TTL, TTL_on, pos_within_TTL)
  - mouse_date_rgb_ts (containing rgb indices and corresponding FP indices)

## Divided by figure

### Figure 1
- Fig 1d: novelty_comparison_multi_days
- Fig 1e-g: analy_novelty2103

### Figure 2
- Fig 2a: analy_novelty_multi_sessions_2012
- Fig 2b-c: 
- Fig 2d-e: analy_novelty2103

### Figure 3
- Fig 3b: novelty_comparison_multi_days
- Fig 3c/d (colorplots): analy_novelty2103
- Fig 3c/d (frequency comparison): novelty_comparison_multi_days
- Fig 3e/f: novelty_comparison_multi_days

### Figure 4
- Fig 4c: novelty_comparison_multi_days
- Fig 4d/e (colorplots): analy_novelty2103
- Fig 4d/e (frequency comparison): novelty_comparison_multi_days
- Fig f: novelty_comparison_multi_days

### Figure 5
- Fig 5b:
- Fig 5c (colorplots): Moseq_DLC_2107_2
- Fig 5e:
- Fig 5f:

### Figure 6
- Fig 6

### Figures 7
- Fig 7

### Figure 8
- Fig 8

### Supplementary Figure 2
- novelty_comparison_multi_days

### Supplementary Figure 3
- 

### Supplementary Figure 4
- 
