# Processing novelty data (Akiti et al. 2021)

Data used in Akiti et al. 2021 available upon request - akiti (at) g (dot) harvard (dot) edu. Data structure is explained [here](https://github.com/ckakiti/Novelty_paper_2021/blob/main/DataStructure.md). The following gives an overview of the code that produced each figure. Specifics for running each piece of code can be found in the comments within the code itself.

## Figure 1

### [novelty_comparison_multi_days](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/novelty_comparison_multi_days.m)
- description
- Input:
- Output: Fig 1d

### [analy_novelty2103.m](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/analy_novelty2103.m)
- creates bout_multi.mat (needed for plotting multi-day behavior imagesc)
- Input: akiti_miceID_210318.xlsx, DLC_label.mat
- Output: 
  - bout_multi.mat
  - imagesc behavior plots (Fig 1e-g, Fig 2d-e)
  - violin plots (Fig 2d-e)

## Figure 2

### [analy_novelty_multi_sessions_2012](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/analy_novelty_multi_sessions_2012.m)
- creates distToObj, nose-tail, and bout plots for multiple mice and sessions
- Input: Config_NovAna, MiceIndex.mat, DLC_label.mat (generated by video_novelty_multi_labels_2011.m)
- Output: 
  - bout_early_late.tif, distToObj_nose-tail.tif, distToObj.tif, nose-Tail.tif (Fig 2a)

## Figure 3

### [novelty_comparison_multi_days](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/novelty_comparison_multi_days.m)
- description
- Input: 
- Output: Fig 3b, Fig 3c/d (frequency comparison), Fig 3e (boxplots), Fig 3f, Fig 4d/e (frequency comparison)

## Figure 4

### filename
- description
- Input: 
- Output: 

## Figure 5

### filename
- description
- Input: 
- Output: 

## Figure 6

### photometry_novelty_Korleki_2105.m (Mitsuko code)
- required supplementary code:
  - analyze_noise_2105_novelty
  - photometry_sync_every10_2105
  - videosync_every10_2105
- Input: akiti_miceID_210318.xlsx, DLC_label.mat
- Output: ANIMAL_FPaligned_SESSION.tif

### [FPdat_import.m](https://github.com/ckakiti/Novelty_paper_2021/blob/master/FPdat_import.m)
- read and save raw photometry signal (generated by custom program)
- Input:
  - LED_on (from KW_1_LED.m)
  - FP analog data file (generated by custom program, either .dat or no extension)
- Output:
  - mouse_date_FP.mat (containing GCaMP, tdTom, TTL, TTL_on, pos_within_TTL)
  - mouse_date_rgb_ts (containing rgb indices and corresponding FP indices)

## Figures 7

### filename
- description
- Input: 
- Output: 

## Figure 8

### filename
- description
- Input: 
- Output: 

## Supplementary Figure 2

### [novelty_comparison_multi_days](https://github.com/ckakiti/Novelty_paper_2021/blob/main/primary_code/novelty_comparison_multi_days.m)
- description
- Input: 
- Output: Supp Fig 2 (cumulative duration)
